{"version":3,"file":"Modal-xdJX9d4k.js","sources":["../design-system/components/Modal/Modal.tsx"],"sourcesContent":["/**\n * Modal Component\n *\n * A dialog overlay component for various use cases (input, confirmation, context, decision)\n * Matches Figma Modal component design\n *\n * @example\n * <Modal\n *   isOpen={isOpen}\n *   onClose={() => setIsOpen(false)}\n *   title=\"Verb noun\"\n *   primaryAction={{ label: 'Confirm', onClick: handleConfirm }}\n * >\n *   <p>Modal content goes here</p>\n * </Modal>\n */\n\nimport React, { useEffect } from 'react';\nimport clsx from 'clsx';\nimport styles from './Modal.module.css';\n\nexport interface ModalAction {\n  label: string;\n  icon?: React.ReactNode;\n  onClick: () => void;\n  hierarchy?: 'primary' | 'secondary' | 'tertiary';\n}\n\nexport interface ModalProps {\n  /** Whether modal is open */\n  isOpen: boolean;\n\n  /** Callback when modal should close */\n  onClose: () => void;\n\n  /** Modal title */\n  title: string;\n\n  /** Optional caption text below title */\n  caption?: string;\n\n  /** Modal size */\n  size?: 'xxsmall' | 'xsmall' | 'small' | 'medium' | 'large' | 'xlarge' | 'xxlarge';\n\n  /** Modal variant type */\n  variant?: 'input' | 'confirmation' | 'context' | 'decision' | 'feature-gating';\n\n  /** Optional icon in header (for confirmation variant) */\n  headerIcon?: React.ReactNode;\n\n  /** Primary action button */\n  primaryAction?: ModalAction;\n\n  /** Secondary action button (e.g., Cancel) */\n  secondaryAction?: ModalAction;\n\n  /** Additional action buttons */\n  additionalActions?: ModalAction[];\n\n  /** Body content */\n  children: React.ReactNode;\n\n  /** Additional CSS class */\n  className?: string;\n\n  /** Disable clicking overlay to close */\n  disableOverlayClick?: boolean;\n\n  /** Optional illustration for feature-gating variant */\n  illustration?: React.ReactNode;\n\n  /** Enable overflow behavior with sticky header/footer */\n  overflow?: boolean;\n}\n\nexport const Modal: React.FC<ModalProps> = ({\n  isOpen,\n  onClose,\n  title,\n  caption,\n  size = 'medium',\n  variant = 'input',\n  headerIcon,\n  primaryAction,\n  secondaryAction,\n  additionalActions = [],\n  children,\n  className,\n  disableOverlayClick = false,\n  illustration,\n  overflow = false,\n}) => {\n  // Handle ESC key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && isOpen) {\n        onClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n      // Prevent body scroll when modal is open\n      document.body.style.overflow = 'hidden';\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n      document.body.style.overflow = '';\n    };\n  }, [isOpen, onClose]);\n\n  if (!isOpen) return null;\n\n  const handleOverlayClick = (e: React.MouseEvent) => {\n    if (e.target === e.currentTarget && !disableOverlayClick) {\n      onClose();\n    }\n  };\n\n  // For decision variant: Cancel, Option B, Option A (primaryAction)\n  // For other variants: secondaryAction, additionalActions, primaryAction\n  const allActions = variant === 'decision'\n    ? [\n        ...additionalActions,\n        ...(secondaryAction ? [secondaryAction] : []),\n        ...(primaryAction ? [primaryAction] : []),\n      ]\n    : [\n        ...(secondaryAction ? [secondaryAction] : []),\n        ...additionalActions,\n        ...(primaryAction ? [primaryAction] : []),\n      ];\n\n  // Confirmation variant has icon inline with title\n  const isConfirmation = variant === 'confirmation';\n  const hasIllustration = variant === 'feature-gating' && illustration;\n\n  return (\n    <div className={styles.overlay} onClick={handleOverlayClick}>\n      <div\n        className={clsx(\n          styles.modal,\n          styles[`size-${size}`],\n          overflow && styles.overflow,\n          hasIllustration && styles.hasIllustration,\n          className\n        )}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby=\"modal-title\"\n      >\n        {/* Illustration for feature-gating */}\n        {hasIllustration && (\n          <div className={styles.illustration}>\n            {illustration}\n          </div>\n        )}\n\n        {/* Header */}\n        <div className={clsx(styles.header, overflow && styles.stickyHeader)}>\n          <div className={styles.titleRow}>\n            <div className={clsx(styles.titleWrapper, isConfirmation && styles.titleWithIcon)}>\n              {isConfirmation && headerIcon && <div className={styles.headerIcon}>{headerIcon}</div>}\n              <h2 id=\"modal-title\" className={styles.title}>{title}</h2>\n              {caption && <p className={styles.caption}>{caption}</p>}\n            </div>\n            <button\n              className={styles.closeButton}\n              onClick={onClose}\n              aria-label=\"Close modal\"\n            >\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n                <path\n                  d=\"M18 6L6 18M6 6L18 18\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        {/* Body */}\n        <div className={styles.body}>\n          {children}\n        </div>\n\n        {/* Footer with Actions */}\n        {allActions.length > 0 && (\n          <div className={clsx(styles.footer, overflow && styles.stickyFooter)}>\n            <div className={styles.actions}>\n              {allActions.map((action, index) => (\n                <button\n                  key={index}\n                  className={clsx(\n                    styles.actionButton,\n                    styles[`action-${action.hierarchy || 'secondary'}`]\n                  )}\n                  onClick={action.onClick}\n                >\n                  {action.icon && <span className={styles.actionIcon}>{action.icon}</span>}\n                  <span>{action.label}</span>\n                </button>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n"],"names":["Modal","isOpen","onClose","title","caption","size","variant","headerIcon","primaryAction","secondaryAction","additionalActions","children","className","disableOverlayClick","illustration","overflow","useEffect","handleEscape","e","handleOverlayClick","allActions","isConfirmation","hasIllustration","styles","jsxs","clsx","jsx","action","index"],"mappings":"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"}