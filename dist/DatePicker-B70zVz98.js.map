{"version":3,"file":"DatePicker-B70zVz98.js","sources":["../design-system/components/DatePicker/Calendar.tsx","../design-system/components/DatePicker/DatePicker.tsx"],"sourcesContent":["/**\n * Calendar Component (Internal)\n *\n * Calendar grid for date selection, used within DatePicker popover\n */\n\nimport React, { useState, useMemo } from 'react';\nimport { Icon } from '../Icon';\nimport styles from './Calendar.module.css';\n\ninterface CalendarProps {\n  selectedDate: Date | null;\n  onSelectDate: (date: Date) => void;\n  onClose: () => void;\n}\n\nconst MONTH_NAMES = [\n  'January', 'February', 'March', 'April', 'May', 'June',\n  'July', 'August', 'September', 'October', 'November', 'December'\n];\n\nconst WEEKDAY_LABELS = ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'];\n\nexport const Calendar: React.FC<CalendarProps> = ({ selectedDate, onSelectDate, onClose }) => {\n  const [currentMonth, setCurrentMonth] = useState(selectedDate || new Date());\n\n  const today = useMemo(() => {\n    const now = new Date();\n    now.setHours(0, 0, 0, 0);\n    return now;\n  }, []);\n\n  const calendarDays = useMemo(() => {\n    const year = currentMonth.getFullYear();\n    const month = currentMonth.getMonth();\n\n    // First day of the month\n    const firstDay = new Date(year, month, 1);\n    // Last day of the month\n    const lastDay = new Date(year, month + 1, 0);\n\n    // Adjust for Monday as first day of week (ISO 8601)\n    let startDay = firstDay.getDay();\n    startDay = startDay === 0 ? 6 : startDay - 1;\n\n    const days: Array<{ date: Date; isCurrentMonth: boolean }> = [];\n\n    // Previous month days\n    for (let i = startDay - 1; i >= 0; i--) {\n      const date = new Date(year, month, -i);\n      days.push({ date, isCurrentMonth: false });\n    }\n\n    // Current month days\n    for (let i = 1; i <= lastDay.getDate(); i++) {\n      const date = new Date(year, month, i);\n      days.push({ date, isCurrentMonth: true });\n    }\n\n    // Next month days to fill the grid\n    const remainingDays = 42 - days.length; // 6 rows * 7 days\n    for (let i = 1; i <= remainingDays; i++) {\n      const date = new Date(year, month + 1, i);\n      days.push({ date, isCurrentMonth: false });\n    }\n\n    return days;\n  }, [currentMonth]);\n\n  const handlePrevMonth = () => {\n    setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1, 1));\n  };\n\n  const handleNextMonth = () => {\n    setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 1));\n  };\n\n  const handleDateClick = (date: Date) => {\n    onSelectDate(date);\n    onClose();\n  };\n\n  const isSameDay = (date1: Date, date2: Date | null) => {\n    if (!date2) return false;\n    return (\n      date1.getDate() === date2.getDate() &&\n      date1.getMonth() === date2.getMonth() &&\n      date1.getFullYear() === date2.getFullYear()\n    );\n  };\n\n  return (\n    <div className={styles.calendar}>\n      {/* Header with month/year and navigation */}\n      <div className={styles.header}>\n        <div className={styles.monthYear}>\n          {MONTH_NAMES[currentMonth.getMonth()]} {currentMonth.getFullYear()}\n        </div>\n        <div className={styles.navigation}>\n          <button\n            type=\"button\"\n            className={styles.navButton}\n            onClick={handlePrevMonth}\n            aria-label=\"Previous month\"\n          >\n            <Icon name=\"angle-left\" variant=\"solid\" />\n          </button>\n          <button\n            type=\"button\"\n            className={styles.navButton}\n            onClick={handleNextMonth}\n            aria-label=\"Next month\"\n          >\n            <Icon name=\"angle-right\" variant=\"solid\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Weekday labels */}\n      <div className={styles.weekdays}>\n        {WEEKDAY_LABELS.map((day) => (\n          <div key={day} className={styles.weekday}>\n            {day}\n          </div>\n        ))}\n      </div>\n\n      {/* Calendar days grid */}\n      <div className={styles.days}>\n        {calendarDays.map((day, index) => {\n          const isSelected = isSameDay(day.date, selectedDate);\n          const isToday = isSameDay(day.date, today);\n\n          return (\n            <button\n              key={index}\n              type=\"button\"\n              className={`${styles.day} ${\n                !day.isCurrentMonth ? styles.otherMonth : ''\n              } ${isSelected ? styles.selected : ''} ${isToday ? styles.today : ''}`}\n              onClick={() => handleDateClick(day.date)}\n            >\n              {day.date.getDate()}\n            </button>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n","/**\n * DatePicker Component\n *\n * A date input field with calendar icon and popover for date selection.\n *\n * Figma: https://www.figma.com/design/pFe8ykz2F9QdvabPsTGl1L/Spark-%7C-Components?node-id=1368-6674\n *\n * @example\n * // Basic date picker\n * <DatePicker\n *   value=\"16/07/2023\"\n *   onChange={(value) => console.log(value)}\n *   placeholder=\"DD/MM/YYYY\"\n * />\n *\n * @example\n * // Disabled date picker\n * <DatePicker value=\"01/01/2024\" disabled />\n */\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport clsx from 'clsx';\nimport { Icon } from '../Icon';\nimport { Calendar } from './Calendar';\nimport styles from './DatePicker.module.css';\n\nexport interface DatePickerProps {\n  /** Current date value (formatted string DD/MM/YYYY) */\n  value?: string;\n\n  /** Change handler - receives new date value */\n  onChange?: (value: string) => void;\n\n  /** Placeholder text */\n  placeholder?: string;\n\n  /** Disabled state */\n  disabled?: boolean;\n\n  /** Additional CSS class names */\n  className?: string;\n\n  /** Name attribute for form submission */\n  name?: string;\n\n  /** ARIA label for accessibility */\n  'aria-label'?: string;\n}\n\n// Helper function to parse DD/MM/YYYY string to Date\nconst parseDate = (dateStr: string): Date | null => {\n  if (!dateStr) return null;\n  const parts = dateStr.split('/');\n  if (parts.length !== 3) return null;\n  const day = parseInt(parts[0], 10);\n  const month = parseInt(parts[1], 10) - 1;\n  const year = parseInt(parts[2], 10);\n  const date = new Date(year, month, day);\n  if (isNaN(date.getTime())) return null;\n  return date;\n};\n\n// Helper function to format Date to DD/MM/YYYY string\nconst formatDate = (date: Date): string => {\n  const day = String(date.getDate()).padStart(2, '0');\n  const month = String(date.getMonth() + 1).padStart(2, '0');\n  const year = date.getFullYear();\n  return `${day}/${month}/${year}`;\n};\n\nexport const DatePicker = React.forwardRef<HTMLDivElement, DatePickerProps>(\n  (\n    {\n      value = '',\n      onChange,\n      placeholder = 'DD/MM/YYYY',\n      disabled = false,\n      className,\n      name,\n      'aria-label': ariaLabel,\n    },\n    ref\n  ) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [inputValue, setInputValue] = useState(value);\n    const containerRef = useRef<HTMLDivElement>(null);\n    const inputRef = useRef<HTMLInputElement>(null);\n\n    useEffect(() => {\n      setInputValue(value);\n    }, [value]);\n\n    // Close calendar when clicking outside\n    useEffect(() => {\n      const handleClickOutside = (event: MouseEvent) => {\n        if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n          setIsOpen(false);\n        }\n      };\n\n      if (isOpen) {\n        document.addEventListener('mousedown', handleClickOutside);\n      }\n\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }, [isOpen]);\n\n    const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n      const newValue = event.target.value;\n      setInputValue(newValue);\n      if (onChange && !disabled) {\n        onChange(newValue);\n      }\n    };\n\n    const handleInputClick = () => {\n      if (!disabled) {\n        setIsOpen(!isOpen);\n      }\n    };\n\n    const handleIconClick = () => {\n      if (!disabled) {\n        setIsOpen(!isOpen);\n        inputRef.current?.focus();\n      }\n    };\n\n    const handleDateSelect = (date: Date) => {\n      const formattedDate = formatDate(date);\n      setInputValue(formattedDate);\n      if (onChange) {\n        onChange(formattedDate);\n      }\n      setIsOpen(false);\n    };\n\n    const containerClasses = clsx(\n      styles.datePicker,\n      disabled && styles.disabled,\n      isOpen && styles.open,\n      className\n    );\n\n    const selectedDate = parseDate(inputValue);\n\n    return (\n      <div ref={containerRef} className={styles.wrapper}>\n        <div ref={ref} className={containerClasses}>\n          <input\n            ref={inputRef}\n            type=\"text\"\n            className={styles.input}\n            value={inputValue}\n            onChange={handleInputChange}\n            onClick={handleInputClick}\n            placeholder={placeholder}\n            disabled={disabled}\n            name={name}\n            aria-label={ariaLabel || 'Date picker'}\n            autoComplete=\"off\"\n          />\n          <button\n            type=\"button\"\n            className={styles.iconButton}\n            onClick={handleIconClick}\n            disabled={disabled}\n            aria-label=\"Toggle calendar\"\n            tabIndex={-1}\n          >\n            <Icon name=\"calendar\" variant=\"solid\" className={styles.icon} />\n          </button>\n        </div>\n\n        {isOpen && !disabled && (\n          <div className={styles.popover}>\n            <Calendar\n              selectedDate={selectedDate}\n              onSelectDate={handleDateSelect}\n              onClose={() => setIsOpen(false)}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nDatePicker.displayName = 'DatePicker';\n"],"names":["MONTH_NAMES","WEEKDAY_LABELS","Calendar","selectedDate","onSelectDate","onClose","currentMonth","setCurrentMonth","useState","today","useMemo","now","calendarDays","year","month","firstDay","lastDay","startDay","days","i","date","remainingDays","handlePrevMonth","handleNextMonth","handleDateClick","isSameDay","date1","date2","jsxs","styles","jsx","Icon","day","index","isSelected","isToday","parseDate","dateStr","parts","formatDate","DatePicker","React","value","onChange","placeholder","disabled","className","name","ariaLabel","ref","isOpen","setIsOpen","inputValue","setInputValue","containerRef","useRef","inputRef","useEffect","handleClickOutside","event","handleInputChange","newValue","handleInputClick","handleIconClick","_a","handleDateSelect","formattedDate","containerClasses","clsx"],"mappings":"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"}