{"version":3,"file":"Drawer-9q-ZRMij.js","sources":["../design-system/components/Drawer/Drawer.tsx"],"sourcesContent":["/**\n * Drawer Component\n *\n * A slide-in panel component that appears from the right side of the screen.\n * Used for displaying detailed content, forms, or additional information.\n *\n * Figma: https://www.figma.com/design/pFe8ykz2F9QdvabPsTGl1L/Spark-%7C-Components?node-id=1337-6476\n *\n * @example\n * <Drawer\n *   isOpen={isOpen}\n *   onClose={() => setIsOpen(false)}\n *   title=\"Drawer title\"\n *   subtitle=\"Drawer subtitle\"\n *   badge=\"NEW\"\n *   primaryAction={{ label: 'Primary', icon: faCheck, onClick: () => {} }}\n *   moreActions={[\n *     { label: 'Action 1', onClick: () => {} },\n *     { label: 'Action 2', onClick: () => {} }\n *   ]}\n *   tabs={['Label', 'Label', 'Label']}\n *   activeTab={0}\n *   onTabChange={(index) => setActiveTab(index)}\n * >\n *   <p>Drawer content goes here</p>\n * </Drawer>\n */\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport clsx from 'clsx';\nimport { Icon } from '../Icon';\nimport { Badge } from '../Badge';\nimport { Tabs, Tab } from '../Tabs';\nimport styles from './Drawer.module.css';\n\nexport interface DrawerAction {\n  label: string;\n  icon?: string;\n  onClick: () => void;\n}\n\nexport interface DrawerProps {\n  /** Whether drawer is open */\n  isOpen: boolean;\n\n  /** Callback when drawer should close */\n  onClose: () => void;\n\n  /** Drawer title */\n  title: string;\n\n  /** Optional subtitle text below title */\n  subtitle?: string;\n\n  /** Optional badge text (e.g., \"NEW\") */\n  badge?: string;\n\n  /** Optional badge variant */\n  badgeVariant?: 'green' | 'red' | 'grey' | 'yellow' | 'blue';\n\n  /** Optional custom header content (rendered below title/subtitle, before tabs) */\n  headerContent?: React.ReactNode;\n\n  /** Primary action button */\n  primaryAction?: DrawerAction;\n\n  /** More actions dropdown items */\n  moreActions?: DrawerAction[];\n\n  /** Tab items */\n  tabs?: Tab[];\n\n  /** Active tab ID */\n  activeTab?: string;\n\n  /** Tab change callback */\n  onTabChange?: (tabId: string) => void;\n\n  /** Tab style variant - 'underline' (default) or 'segment' (button-style) */\n  tabVariant?: 'underline' | 'segment';\n\n  /** Drawer content */\n  children: React.ReactNode;\n\n  /** Additional CSS class */\n  className?: string;\n\n  /** Disable clicking overlay to close */\n  disableOverlayClick?: boolean;\n\n  /** Drawer width */\n  width?: number | string;\n}\n\nexport const Drawer: React.FC<DrawerProps> = ({\n  isOpen,\n  onClose,\n  title,\n  subtitle,\n  badge,\n  badgeVariant = 'green',\n  headerContent,\n  primaryAction,\n  moreActions = [],\n  tabs,\n  activeTab,\n  onTabChange,\n  tabVariant = 'underline',\n  children,\n  className,\n  disableOverlayClick = false,\n  width = 700,\n}) => {\n  const [isMoreActionsOpen, setIsMoreActionsOpen] = useState(false);\n  const moreActionsRef = useRef<HTMLDivElement>(null);\n\n  // Handle ESC key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && isOpen) {\n        onClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n      // Prevent body scroll when drawer is open\n      document.body.style.overflow = 'hidden';\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n      document.body.style.overflow = '';\n    };\n  }, [isOpen, onClose]);\n\n  // Close more actions dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (moreActionsRef.current && !moreActionsRef.current.contains(event.target as Node)) {\n        setIsMoreActionsOpen(false);\n      }\n    };\n\n    if (isMoreActionsOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [isMoreActionsOpen]);\n\n  if (!isOpen) return null;\n\n  const handleOverlayClick = (e: React.MouseEvent) => {\n    if (e.target === e.currentTarget && !disableOverlayClick) {\n      onClose();\n    }\n  };\n\n  const handleMoreActionClick = (action: DrawerAction) => {\n    action.onClick();\n    setIsMoreActionsOpen(false);\n  };\n\n  return (\n    <div className={styles.overlay} onClick={handleOverlayClick}>\n      <div\n        className={clsx(styles.drawer, className)}\n        style={{ width: typeof width === 'number' ? `${width}px` : width }}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby=\"drawer-title\"\n      >\n        {/* Header */}\n        <div className={styles.header}>\n          <div className={clsx(\n            styles.headerContent,\n            (!tabs || tabs.length === 0) && styles.headerContentNoTabs\n          )}>\n            <div className={styles.titleSection}>\n              <div className={styles.titleRow}>\n                <h2 id=\"drawer-title\" className={styles.title}>{title}</h2>\n                {badge && (\n                  <Badge variant={badgeVariant} size=\"small\">{badge}</Badge>\n                )}\n              </div>\n              {subtitle && (\n                <p className={styles.subtitle}>{subtitle}</p>\n              )}\n            </div>\n\n            <div className={styles.actions}>\n              {/* More Actions Dropdown */}\n              {moreActions.length > 0 && (\n                <div className={styles.moreActionsWrapper} ref={moreActionsRef}>\n                  <button\n                    className={styles.moreActionsButton}\n                    onClick={() => setIsMoreActionsOpen(!isMoreActionsOpen)}\n                    aria-expanded={isMoreActionsOpen}\n                  >\n                    <span>More actions</span>\n                    <Icon name=\"chevron-down\" variant=\"solid\" className={styles.chevronIcon} />\n                  </button>\n\n                  {isMoreActionsOpen && (\n                    <div className={styles.moreActionsDropdown}>\n                      {moreActions.map((action, index) => (\n                        <button\n                          key={index}\n                          className={styles.moreActionItem}\n                          onClick={() => handleMoreActionClick(action)}\n                        >\n                          {action.icon && (\n                            <Icon name={action.icon} className={styles.actionIcon} />\n                          )}\n                          <span>{action.label}</span>\n                        </button>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Primary Action Button */}\n              {primaryAction && (\n                <button\n                  className={styles.primaryButton}\n                  onClick={primaryAction.onClick}\n                >\n                  {primaryAction.icon && (\n                    <Icon name={primaryAction.icon} className={styles.buttonIcon} />\n                  )}\n                  <span>{primaryAction.label}</span>\n                </button>\n              )}\n\n              {/* Close Button */}\n              <button\n                className={styles.closeButton}\n                onClick={onClose}\n                aria-label=\"Close drawer\"\n              >\n                <Icon name=\"xmark\" variant=\"solid\" />\n              </button>\n            </div>\n          </div>\n\n          {/* Custom Header Content */}\n          {headerContent && (\n            <div className={styles.headerCustomContent}>\n              {headerContent}\n            </div>\n          )}\n\n          {/* Tabs - only render in header for underline variant */}\n          {tabs && tabs.length > 0 && activeTab && onTabChange && tabVariant === 'underline' && (\n            <Tabs\n              tabs={tabs}\n              activeTab={activeTab}\n              onTabChange={onTabChange}\n              variant={tabVariant}\n              className={styles.tabsWrapper}\n            />\n          )}\n\n          <div className={styles.divider} />\n        </div>\n\n        {/* Body */}\n        <div className={styles.body}>\n          {/* Tabs - render in body for segment variant */}\n          {tabs && tabs.length > 0 && activeTab && onTabChange && tabVariant === 'segment' && (\n            <Tabs\n              tabs={tabs}\n              activeTab={activeTab}\n              onTabChange={onTabChange}\n              variant={tabVariant}\n              className={styles.tabsSegmentInBody}\n            />\n          )}\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"names":["Drawer","isOpen","onClose","title","subtitle","badge","badgeVariant","headerContent","primaryAction","moreActions","tabs","activeTab","onTabChange","tabVariant","children","className","disableOverlayClick","width","isMoreActionsOpen","setIsMoreActionsOpen","useState","moreActionsRef","useRef","useEffect","handleEscape","e","handleClickOutside","event","handleOverlayClick","handleMoreActionClick","action","styles","jsxs","clsx","jsx","Badge","Icon","index","Tabs"],"mappings":"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"}